{% extends "base.html" %}

{% block pageheader %}
    <p>View Agents</p>
{% endblock pageheader %}

{% block contentheader %}
    <p>list of agents</p>
{% endblock contentheader %}

{% block content %}
<div class="w-3/4">
    {% if agents %}
        <div class="flex w-full"><div class="flex w-2/3">
        {% if request.user.groups.all.0.name == "supervisor" or request.user.groups.all.0.name == "superuser" %}
        <p class = "py-2 text-left"> Click on an Agent to Update or <span><a href="{% url 'agent-create' %}" class="font-bold text-gray-500 hover:text-blue-800 underline">Click here to Add a new Record</a></span></p>
        {% endif %}
        </div><div class="flex w-1/3 justify-end"><a href="{% url 'administrative-tasks' %}" class = "py-2 text-right font-bold text-gray-500 hover:text-blue-800 underline"> Back to admin tasks</a></div></div>
            <table id="psp" class="min-w-full table-auto display">
                <thead class="justify-between">
                <tr class="bg-gray-800">
                    <th class="px-8 py-2 text-left">
                    <span class="text-gray-300">Agent Username</span>
                    </th>
                    <th class="px-8 py-2 text-left">
                    <span class="text-gray-300">Active</span>
                    </th>                    
                </tr>
                </thead>
                <tbody class="bg-gray-200">
                {% for agent in agents %}
                <tr class="bg-white border-4 border-gray-200">
                    <td class="px-8 py-2 text-left">
                    <span><a href="/administrative-tasks/agent/{{ agent.pk }}/">{{ agent.user }}</a></span>
                    </td>
                    <td class="px-8 py-2 text-left">
                    <span>{{ agent.active }}</span>
                    </td>                    
                </tr>
                {% endfor %}
                </tbody>
            </table>
    {% else %}
    <p>No items found!!!</p>
    {% endif %}
</div>

{% endblock content %}